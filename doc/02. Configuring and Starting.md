# Overview

In this lab we will start Jet using several different options.  Along the way, it will be very useful to refer to [chapter 6](https://docs.hazelcast.org/docs/jet/3.2/manual/#configuration-2) of the Jet Reference Manual.

# Starting Jet with the Provided Script

Make sure your Docker Compose environment is down before starting this lab.



Using Docker Compose, you can run a container defined in `docker-compose.yml` without actually starting the whole environment.  Use this capability to start and log on to a container with Jet installed.

```bash
$ docker-compose run -p 5701:5701 bash
bash-4.4# pwd
/opt/hazelcast-jet-enterprise
```



Locate and review `jet-start.sh` and also the default configuration, which is in `/opt/hazelcast-jet-enterprise/config`.  Note that the directory contains both an IMDG configuration file (`hazelcast.xml`) and a Jet configuration file (`hazelcast-jet.xml`).  _It is important to realize that a Jet cluster sits on top of a Hazelcast cluster!_  The basic cluster membership and data storage functionality are provided by IMDG.  

Hazelcast IMDG exposes a REST API which provides cluster management and health functionality. See the [IMDG Reference Manual](https://docs.hazelcast.org/docs/3.12.4/manual/html-single/index.html#using-rest-api-for-cluster-management) for details. Since this is an IMDG feature, it is configured in the IMDG configuration file.  Is the REST API enabled ?



Go ahead and start a Jet member by running the `jet-start.sh` script with the default configuration. You should see something like the following:

```
[2019-11-25 22:08:22.705] [INFO   ] com.hazelcast.core.LifecycleService - [192.168.208.2]:5701 [jet] [3.2] [192.168.208.2]:5701 is STARTED
```



Now , using your browser, try to access the REST API endpoint: http://localhost:5701/hazelcast/health/node-state. You should see output similar to the following in the console output from the Jet server.

```
[2019-11-25 22:18:32.380] [WARNING] com.hazelcast.nio.tcp.TcpIpConnection - [192.168.208.2]:5701 [jet] [3.2] Connection[id=3, /192.168.208.2:5701->/192.168.208.1:55974, qualifier=null, endpoint=null, alive=false, type=NONE] closed. Reason: Exception in Connection[id=3, /192.168.208.2:5701->/192.168.208.1:55974, qualifier=null, endpoint=null, alive=true, type=NONE], thread=hz._hzInstance_1_jet.IO.thread-in-2
java.lang.IllegalStateException: REST API is not enabled.
```



Stop the jet server using ctrl-c.



`hazelcast.xml` is the most important IMDG configuration file. When configuring a Jet cluster you will need to know how to configure the underlying IMDG cluster using `hazelcast.xml`.  [Section 6.3](https://docs.hazelcast.org/docs/jet/3.2/manual/#configure-the-underlying-hazelcast-instance) of the Jet Reference Manual explains how to do this.  It is a good practice to explicitly set the location of `hazelcast.xml`.  For this lab we will point the Jet server at the project file: `config/hazelcast.xml`.  Note that this file _does_have the REST API enabled.  



Recall that the whole project folder is accessible from within every container as `/opt/project`.  The built in start script allows additional JVM arguments to be configured using the JAVA_OPTS environment variable.  Use this to tell the Jet server instance to configure IMDG using `/opt/project/config/hazelcast.xml`. 

```bash

```

